<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="view_account_sale_invoice_tree_qm" model="ir.ui.view">
        <field name="name">qm.account.sale.invoice.tree</field>
        <field name="model">account.sale.invoice</field>
        <field name="arch" type="xml">
            <tree string="Invoices" decoration-muted="state=='cancel'" multi_edit="1">
                <field name="name"/>
                <field name="code" optional="show"/>
                <field name="type" optional="show"/>
                <field name="express_code" optional="show"/>
                <field name="sent_type" optional="hide"/>
                <field name="sent_date" optional="show"/>
                <field name="tax_rate" optional="show"/>
                <field name="amount_untaxed" optional="hide"/>
                <field name="amount_tax" optional="hide"/>
                <field name="amount_total" optional="show"/>
                <field name="state" optional="show"/>
            </tree>
        </field>
    </record>


    <record id="view_account_sale_invoice_form_qm" model="ir.ui.view">
        <field name="name">qm.account.sale.invoice.form</field>
        <field name="model">account.sale.invoice</field>
        <field name="arch" type="xml">
            <form string="Invoices">
                <header>
                    <button name="action_done" states="cancel" type="object" class="btn-primary" string="Finish" groups="account.group_account_invoice"/>
                    <button name="action_cancel" states="done" type="object" string="Cancel" groups="account.group_account_invoice"/>
                    <field name="state" widget="statusbar"/>
                </header>
                <sheet>
                    <div class="oe_title">
                        <h1>
                            <field name="name"/>
                        </h1>
                    </div>

                    <group>
                      <group>
                            <field name="type"/>
                            <field name="code"/>
                            <field name="tax_rate"/>
                            <field name="amount_untaxed" widget="monetary"/>
                            <field name="amount_tax" widget="monetary"/>
                            <field name="amount_total" widget="monetary"/>
                        </group>
                        <group>
                            <field name="express_code"/>
                            <field name="sent_type"/>
                            <field name="sent_date"/>
                        </group>
                    </group>
                </sheet>
                <div class="oe_chatter">
                    <field name="message_follower_ids" widget="mail_followers"/>
                    <field name="activity_ids" widget="mail_activity"/>
                    <field name="message_ids" widget="mail_thread"/>
                </div>
            </form>
        </field>
    </record>

    <record id="view_account_sale_invoice_filter_qm" model="ir.ui.view">
        <field name="name">qm.account.sale.invoice.select</field>
        <field name="model">account.sale.invoice</field>
        <field name="arch" type="xml">
            <search string="Search Invoice">
                <field name="name" string="Invoice Name"/>
                <field name="code" string="Invoice Code"/>
                <field name="express_code" string="Express Reference"/>
                <separator/>
                <filter name="sent" string="Sent" domain="[('state','=','sent')]" />
                <filter name="cancel" string="Cancelled" domain="[('state','=','cancel')]" />
                <separator/>
                <filter string="Invoice Date" name="posted_date" date="posted_date"/>
                <filter string="Sent Date" name="sent_date" date="sent_date"/>
            </search>
        </field>
    </record>


    <record id="action_account_sale_invoice_qm" model="ir.actions.act_window">
        <field name="name">Invoices</field>
        <field name="res_model">account.sale.invoice</field>
        <field name="view_mode">tree,kanban,form</field>
        <field name="view_id" ref="view_account_sale_invoice_tree_qm"/>
        <field name="search_view_id" ref="view_account_sale_invoice_filter_qm"/>
        <field name="help" type="html">
          <p class="o_view_nocontent_smiling_face">
            Create a customer invoice
          </p><p>
            Create invoices
          </p>
        </field>
    </record>


    <menuitem
    id="menu_action_account_sale_invoice_qm"
    action="action_account_sale_invoice_qm"
    parent="account.menu_finance_receivables"
    sequence="1"/>


    <record id="view_account_purchase_invoice_tree_qm" model="ir.ui.view">
      <field name="name">qm.account.purchase.invoice.tree</field>
      <field name="model">account.purchase.invoice</field>
      <field name="arch" type="xml">
        <tree decoration-muted="state in ['cancelled', 'reject']" decoration-success="state=='verified'">
          <field name="name"/>
          <field name="code" optional="show"/>
          <field name="type" optional="show"/>
          <field name="partner_id"/>
          <field name="amount_untaxed" optional="hide"/>
          <field name="amount_tax" optional="show"/>
          <field name="amount_total" optional="show"/>
          <field name="create_date" optional="show"/>
          <field name="posted_date" optional="show"/>
          <field name="state" optional="show"/>
        </tree>
      </field>
    </record>


    <record id="view_account_purchase_invoice_form_qm" model="ir.ui.view">
      <field name="name">qm.account.purchase.invoice.form</field>
      <field name="model">account.purchase.invoice</field>
      <field name="arch" type="xml">
        <form string="Invoices">
          <header>
            <button name="post" states="draft" type="object" class="btn-primary" string="Post"/>
            <button name="action_cancel" states="" type="object" string="Cancel"/>
            <button name="action_reject" states="" type="object" string="Reject"/>
          </header>

          <sheet>
          </sheet>
        </form>
      </field>
    </record>

    


</odoo>
